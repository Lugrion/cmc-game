var t=Object.defineProperty,e=(e,i,s)=>((e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s)(e,"symbol"!=typeof i?i+"":i,s);import{p as i,P as s}from"./phaser-Dp_CM4nq.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class a extends i.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}class h extends Phaser.Scene{constructor(){super("Preloader")}init(){this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const t=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(e=>{t.width=4+460*e}))}preload(){this.load.path="/assets/",this.load.image("background","bg.png"),this.load.image("background2","bg2.png"),this.load.image("background3","bg3.png"),this.load.tilemapTiledJSON("mapTest","Arenas/Test/Test.json"),this.load.image("TerrainTest","Arenas/Test/TerrainTest.png"),this.loadCoreAssets(),this.load.atlas("fighterCrust","Fighters/Crust/crust.png","Fighters/Crust/crust.json"),this.load.atlas("fighterMantle","Fighters/Mantle/mantle.png","Fighters/Mantle/mantle.json")}create(){this.scene.start("MainMenu")}loadCoreAssets(){this.load.atlas("fighterCore","Fighters/Core/core.png","Fighters/Core/core.json");const t=this.make.text({add:!0,x:0,y:0,text:"XDDD",style:{fontSize:18,fontFamily:"Arial Black",color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}}).setVisible(!1);this.textures.addCanvas("core_attack",t.canvas)}}const r=new s.Events.EventEmitter;class n extends i.Scene{constructor(){super("MainMenu"),e(this,"width"),e(this,"height")}init(){this.width=this.cameras.main.width,this.height=this.cameras.main.height}create(){this.add.image(this.width/2,320,"background"),this.add.text(this.width/2,150,"C. M. C.",{fontFamily:"Arial Black",fontSize:60,color:"#ffffff",stroke:"#000000",strokeThickness:15,align:"center"}).setDepth(100).setOrigin(.5),this.menuEntriesBuilder(this.width/2,260,"Local Play","LocalSelect",1),this.menuEntriesBuilder(this.width/2,340,"Practice","PracticeSelect",2),this.menuEntriesBuilder(this.width/2,420,"Net Play","NetSelect",0),r.emit("current-scene-ready",this)}menuEntriesBuilder(t,e,i,s,a){const h=this.make.text({add:!0,x:t,y:e,text:i,style:{fontSize:38,fontFamily:"Arial Black",color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}}).setDepth(100).setOrigin(.5).setInteractive();this.textures.addCanvas(`txt_menu${a}`,h.canvas);const r=this.add.particles(t,e,`txt_menu${a}`,{alpha:{start:1,end:0},speed:{min:60,max:260},lifespan:{min:1,max:200}}).setVisible(!1);h.on("pointerover",(()=>{r.setVisible(!0)})),h.on("pointerout",(()=>{r.setVisible(!1)})),h.on("pointerdown",(()=>{this.scene.stop("MainMenu"),this.scene.start(s)}))}}class c extends Phaser.Scene{constructor(){super("NetPlay")}create(){}update(){}}class o extends Phaser.Scene{constructor(){super("NetSelect")}create(){this.add.image(this.cameras.main.width/2,320,"background2").setScale(2),this.add.text(this.cameras.main.width/12,40,"<Menu",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive().on("pointerdown",(()=>{this.scene.start("MainMenu")})),this.add.text(480,320,"On construction!",{fontFamily:"Arial Black",fontSize:60,color:"#ffffff",stroke:"#000000",strokeThickness:15,align:"center"}).setDepth(100).setOrigin(.5),r.emit("current-scene-ready",this)}}class l extends Phaser.Scene{constructor(){super("NetHUD")}create(){}update(){}}class d{constructor(t,i){e(this,"_defaultControlP1",Object.freeze({goJump:Phaser.Input.Keyboard.KeyCodes.W,goLeft:Phaser.Input.Keyboard.KeyCodes.A,goRight:Phaser.Input.Keyboard.KeyCodes.D,basicAttackKey:Phaser.Input.Keyboard.KeyCodes.SPACE})),e(this,"_defaultControlP2",Object.freeze({goJump:Phaser.Input.Keyboard.KeyCodes.UP,goLeft:Phaser.Input.Keyboard.KeyCodes.LEFT,goRight:Phaser.Input.Keyboard.KeyCodes.RIGHT,basicAttackKey:Phaser.Input.Keyboard.KeyCodes.ENTER})),e(this,"userControlerP1"),e(this,"userControlerP2"),this.userControlerP1=this._defaultControlP1,this.userControlerP2=this._defaultControlP2,void 0!==t&&(this.userControlerP1=t),void 0!==i&&(this.userControlerP2=i)}getControlsP1(){return this.userControlerP1}getControlsP2(){return this.userControlerP2}}class m{constructor(){}static createUserControls(t){switch(t){case"p1":return(new d).getControlsP1();case"p2":return(new d).getControlsP2()}}}class p extends Phaser.Physics.Arcade.Sprite{constructor(t,i){super(t.current_scene,t.x,t.y,t.texture),e(this,"_defaultStats",Object.freeze({hp:100,speed:300,jump:400,height:43,width:30,time:1,dmg:10})),e(this,"_multiplier",{hp:1,speed:1,jump:1,height:1,width:1,time:1,dmg:1}),e(this,"controls"),e(this,"basicAttack"),e(this,"isFighterHit",!1),e(this,"isAttackReady",!0),e(this,"isAttacking",!1),e(this,"isDead",!1),e(this,"gameHP"),this.scene=t.current_scene,this.updateControls(i),this.gameHP=this.getHpStat(),this.init()}getHpStat(){return this._defaultStats.hp*this._multiplier.hp}getDmgStat(){return this._defaultStats.dmg*this._multiplier.dmg}getSpeedStat(){return this._defaultStats.speed*this._multiplier.speed}getJumpStat(){return this._defaultStats.jump*this._multiplier.jump}getHeightStat(){return this._defaultStats.height*this._multiplier.height}getWidthStat(){return this._defaultStats.width*this._multiplier.width}getTimeStat(){return this._defaultStats.time*this._multiplier.time}init(){this.scene.add.existing(this),this.scene.physics.world.enable(this),this.setCollideWorldBounds(!0)}updateControls(t){var e;this.controls=null==(e=this.scene.input.keyboard)?void 0:e.addKeys(t)}goLeft(){console.log("LEFT")}goRight(){console.log("RIGHT")}goJump(){console.log("JUMP")}goAttack(){console.log("ATTACK")}goIdle(){console.log("IDLE")}basicMovement(){var t;null!=this.controls&&(this.controls.goLeft.isDown?this.goLeft():this.controls.goRight.isDown?this.goRight():this.goIdle(),this.controls.goJump.isDown&&(null==(t=this.body)?void 0:t.blocked.down)&&this.goJump(),this.controls.basicAttackKey.isDown&&this.isAttackReady&&!this.isAttacking&&this.goAttack())}newEnemyRules(t){console.log("New Rules! "+t)}addEnemy(t){this.newEnemyRules(t)}finalWill(){console.log("Y-you win...")}update(){var t;this.gameHP>0?(this.basicAttack.update(),this.basicMovement(),null==(t=this.body)||t.setSize(this.getWidthStat(),this.getHeightStat())):0==this.isDead?(this.finalWill(),this.isDead=!0):this.setVelocity(0,0)}}class g extends Phaser.Physics.Arcade.Sprite{constructor(t,i){super(t.current_scene,t.x,t.y,""),e(this,"fighter"),this.fighter=i,this.setTexture("core_attack").setDepth(100),this.init()}init(){this.scene.add.existing(this),this.scene.physics.world.enable(this),this.setVisible(!1)}update(){var t;null==(t=this.body)||t.setSize(60,20),this.flipX?this.setPosition(this.fighter.x-40,this.fighter.y):this.setPosition(this.fighter.x+40,this.fighter.y),this.setVelocity(0,0)}}class f extends p{constructor(t,i){super(t,i),e(this,"_multiplier",{hp:.5,speed:1.5,jump:1.5,height:.75,width:.75,time:1,dmg:.5}),this.basicAttack=new g(t,this),this.gameHP=this.getHpStat(),this.setupAnimation()}goLeft(){var t;this.setVelocityX(-this.getSpeedStat()),(null==(t=this.body)?void 0:t.blocked.down)&&this.anims.play("run",!0),this.flipX=!0,this.basicAttack.flipX=!0}goRight(){var t;this.setVelocityX(this.getSpeedStat()),(null==(t=this.body)?void 0:t.blocked.down)&&this.anims.play("run",!0),this.flipX=!1,this.basicAttack.flipX=!1}goJump(){this.setVelocityY(-this.getJumpStat())}goIdle(){this.setVelocityX(0),this.isDead||this.anims.play("idle",!0)}goAttack(){this.isAttacking=!0,this.isAttackReady=!1,this.basicAttack.setVisible(!0),this.scene.time.addEvent({delay:100,callback:()=>{this.isAttacking=!1,this.basicAttack.setVisible(!1),this.scene.time.addEvent({delay:200,callback:()=>{this.isAttackReady=!0}})}})}finalWill(){this.angle=90,this.tint=5906195}newEnemyRules(t){this.scene.physics.add.overlap(t.basicAttack,this,(()=>{this.isFighterHit||!t.isAttacking||this.isDead||(this.isFighterHit=!0,this.gameHP-=t.getDmgStat(),this.tint=16711680,this.scene.time.addEvent({delay:800,callback:()=>{this.isDead||(this.isFighterHit=!1,this.tint=16777215)}}))}))}setupAnimation(){this.anims.create({key:"idle",frames:this.anims.generateFrameNames("fighterCore",{prefix:"idle-",end:10}),frameRate:20,repeat:-1}),this.anims.create({key:"run",frames:this.anims.generateFrameNames("fighterCore",{prefix:"run-",end:11}),frameRate:20,repeat:-1})}}class u extends Phaser.Physics.Arcade.Sprite{constructor(t,i){super(t.current_scene,t.x,t.y,""),e(this,"fighter"),this.fighter=i,this.init()}init(){this.scene.add.existing(this),this.scene.physics.world.enable(this),this.setVisible(!1)}update(){var t;null==(t=this.body)||t.setSize(210,150),this.flipX?this.setPosition(this.fighter.x-80,this.fighter.y-40):this.setPosition(this.fighter.x+80,this.fighter.y-40),this.setVelocity(0,0)}}class y extends p{constructor(t,i){super(t,i),e(this,"_multiplier",{hp:1,speed:1,jump:1,height:1,width:1,time:1,dmg:1}),this.basicAttack=new u(t,this),this.setScale(2),this.gameHP=this.getHpStat(),this.setupAnimation(),this.play("c-idle")}goLeft(){var t;this.setVelocityX(-this.getSpeedStat()),(null==(t=this.body)?void 0:t.blocked.down)&&this.isAttackReady&&!this.isFighterHit?this.anims.play("c-run",!0):this.isAttackReady&&!this.isFighterHit&&this.anims.play("c-fall",!0),this.flipX=!0,this.basicAttack.flipX=!0}goRight(){var t;this.setVelocityX(this.getSpeedStat()),(null==(t=this.body)?void 0:t.blocked.down)&&this.isAttackReady&&!this.isFighterHit?this.anims.play("c-run",!0):this.isAttackReady&&!this.isFighterHit&&this.anims.play("c-fall",!0),this.flipX=!1,this.basicAttack.flipX=!1}goJump(){this.setVelocityY(-this.getJumpStat()),this.isAttackReady&&this.anims.play("c-jump",!0)}goIdle(){var t;this.setVelocityX(0),(null==(t=this.body)?void 0:t.blocked.down)&&this.isAttackReady&&!this.isFighterHit&&!this.isDead&&this.anims.play("c-idle",!0)}goAttack(){this.isAttackReady=!1,this.anims.stop(),this.play("c-attack",!0),this.scene.time.addEvent({delay:230,callback:()=>{this.isAttacking=!0,this.scene.time.addEvent({delay:20,callback:()=>{this.isAttacking=!1,this.scene.time.addEvent({delay:100,callback:()=>{this.isAttackReady=!0}})}})}})}finalWill(){this.anims.play("c-death",!0)}newEnemyRules(t){this.scene.physics.add.overlap(t.basicAttack,this,(()=>{this.isFighterHit||!t.isAttacking||this.isDead||(this.isFighterHit=!0,this.gameHP-=t.getDmgStat(),this.tint=16711680,this.anims.stop(),this.anims.play("c-hit",!0),this.scene.time.addEvent({delay:300,callback:()=>{this.isFighterHit=!1,this.tint=16777215}}))}))}setupAnimation(){this.anims.create({key:"c-attack",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"attack-",end:5}),frameRate:16,repeat:0}),this.anims.create({key:"c-death",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"death-",end:5}),frameRate:16,repeat:0}),this.anims.create({key:"c-fall",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"fall-",end:1}),frameRate:16,repeat:0}),this.anims.create({key:"c-hit",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"hit-",end:3}),frameRate:12,repeat:0}),this.anims.create({key:"c-idle",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"idle-",end:7}),frameRate:16,repeat:0}),this.anims.create({key:"c-jump",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"jump-",end:1}),frameRate:16,repeat:0}),this.anims.create({key:"c-run",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"run-",end:7}),frameRate:16,repeat:0})}}class k extends Phaser.Physics.Arcade.Sprite{constructor(t,i){super(t.current_scene,t.x,t.y,""),e(this,"fighter"),this.fighter=i,this.init()}init(){this.scene.add.existing(this),this.scene.physics.world.enable(this),this.setVisible(!1)}update(){var t;null==(t=this.body)||t.setSize(100,150),this.flipX?this.setPosition(this.fighter.x-40,this.fighter.y):this.setPosition(this.fighter.x+40,this.fighter.y),this.setVelocity(0,0)}}class x extends p{constructor(t,i){super(t,i),e(this,"_multiplier",{hp:2,speed:.75,jump:1,height:.75,width:1.25,time:1,dmg:2.5}),this.basicAttack=new k(t,this),this.setScale(2),this.gameHP=this.getHpStat(),this.setupAnimation()}goLeft(){this.setVelocityX(-this.getSpeedStat()),this.isAttackReady&&!this.isFighterHit&&this.anims.play("m-run",!0),this.flipX=!0,this.basicAttack.flipX=!0}goRight(){this.setVelocityX(this.getSpeedStat()),this.isAttackReady&&!this.isFighterHit&&this.anims.play("m-run",!0),this.flipX=!1,this.basicAttack.flipX=!1}goJump(){this.setVelocityY(-this.getJumpStat())}goIdle(){this.setVelocityX(0),this.isAttackReady&&!this.isFighterHit&&this.anims.play("m-idle",!0)}goAttack(){this.isAttackReady=!1,this.play("m-attack",!0),this.scene.time.addEvent({delay:400,callback:()=>{this.isAttacking=!0,this.scene.time.addEvent({delay:100,callback:()=>{this.isAttacking=!1,this.scene.time.addEvent({delay:200,callback:()=>{this.isAttackReady=!0}})}})}})}finalWill(){this.anims.play("m-death",!0)}newEnemyRules(t){this.scene.physics.add.overlap(t.basicAttack,this,(()=>{this.isFighterHit||!t.isAttacking||this.isDead||(this.isFighterHit=!0,this.anims.stop(),this.anims.play("m-hit",!0),this.gameHP-=t.getDmgStat(),this.scene.time.addEvent({delay:300,callback:()=>{this.isFighterHit=!1}}))}))}setupAnimation(){this.anims.create({key:"m-idle",frames:this.anims.generateFrameNames("fighterMantle",{prefix:"idle-",end:8}),frameRate:20,repeat:-1}),this.anims.create({key:"m-run",frames:this.anims.generateFrameNames("fighterMantle",{prefix:"run-",end:5}),frameRate:15,repeat:0}),this.anims.create({key:"m-death",frames:this.anims.generateFrameNames("fighterMantle",{prefix:"death-",end:22}),frameRate:20,repeat:0}),this.anims.create({key:"m-attack",frames:this.anims.generateFrameNames("fighterMantle",{prefix:"attack-",end:11}),frameRate:20,repeat:0}),this.anims.create({key:"m-hit",frames:this.anims.generateFrameNames("fighterMantle",{prefix:"hit-",end:4}),frameRate:20,repeat:0})}}class P{constructor(){}static createFighter(t,e,i){switch(t){case"core":return e.texture="fighterCore",new f(e,i);case"mantle":return e.texture="fighterMantle",new x(e,i);case"crust":return e.texture="fighterCrust",new y(e,i)}}}class _ extends Phaser.Scene{constructor(){super("LocalPlay"),e(this,"width"),e(this,"height"),e(this,"map_container"),e(this,"map_packer"),e(this,"map_layer"),e(this,"fighter_P1"),e(this,"fighter_P2"),e(this,"isStarting",!0)}init(){this.width=this.cameras.main.width,this.height=this.cameras.main.height,this.isStarting=!0}create(t){this.add.image(this.width/2,320,"background3").setScale(2),this.setupMapTiles(),this.cameras.main.setBounds(0,0,this.map_container.widthInPixels,this.map_container.heightInPixels),this.spawnFighters(t),this.setupPhysics(),r.emit("current-scene-ready",this)}setupMapTiles(){this.map_container=this.make.tilemap({key:"mapTest",tileWidth:16,tileHeight:16}),this.map_packer=this.map_container.addTilesetImage("TerrainTest"),null!=this.map_packer&&(this.map_layer=this.map_container.createLayer("Platforms",this.map_packer))}spawnFighters(t){this.fighter_P1=P.createFighter(t.p1Fighter,{current_scene:this,x:100,y:this.height/2,texture:""},m.createUserControls("p1")),this.fighter_P2=P.createFighter(t.p2Fighter,{current_scene:this,x:860,y:this.height/2,texture:""},m.createUserControls("p2")),this.fighter_P1.addEnemy(this.fighter_P2),this.fighter_P2.addEnemy(this.fighter_P1)}setupPhysics(){null!=this.map_layer&&(this.map_layer.setCollisionByExclusion([-1]),this.physics.world.bounds.setTo(0,0,this.map_container.widthInPixels,this.map_container.heightInPixels),this.physics.add.collider(this.fighter_P1,this.map_layer),this.physics.add.collider(this.fighter_P2,this.map_layer),this.physics.add.collider(this.fighter_P2,this.fighter_P1))}update(){this.fighter_P1.update(),this.fighter_P2.update(),this.isStarting&&(this.fighter_P1.setPosition(100,this.height/2),this.fighter_P1.setVelocity(0,0),this.fighter_P2.setPosition(860,this.height/2),this.fighter_P2.setVelocity(0,0))}}class w extends Phaser.Scene{constructor(){super("LocalHUD"),e(this,"width"),e(this,"height"),e(this,"game_scene"),e(this,"txt_hpP1"),e(this,"txt_hpP2"),e(this,"txt_start_time"),e(this,"txt_time"),e(this,"start_countdown",3),e(this,"countdown",60),e(this,"countdownTimer"),e(this,"p1HP"),e(this,"p2HP"),e(this,"p1MaxHP"),e(this,"p2MaxHP"),e(this,"hpBarP1"),e(this,"hpBarP2")}init(){this.width=this.cameras.main.width,this.height=this.cameras.main.height,this.game_scene=this.scene.get("LocalPlay"),this.start_countdown=3,this.countdown=60}create(){this.setupTimeHud(),this.setupHpHud(),this.updateHP(),this.countdownTimer=this.time.addEvent({delay:1e3,callback:this.updateStartTimer,callbackScope:this,loop:!0})}setupTimeHud(){this.txt_time=this.add.text(this.width/2,30,`${this.countdown}`,{fontFamily:"Arial Black",fontSize:50,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(-1).setOrigin(.5).setVisible(!1),this.txt_start_time=this.add.text(this.width/2,this.height/2,`${this.start_countdown}`,{fontFamily:"Arial Black",fontSize:100,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(-1).setOrigin(.5)}setupHpHud(){this.add.rectangle(this.width/4,40,400,32).setStrokeStyle(1,16777215),this.hpBarP1=this.add.rectangle(this.width/4-200,40,400,32,16711680).setOrigin(0,.5),this.p1MaxHP=this.game_scene.fighter_P1.gameHP,this.add.rectangle(this.width-this.width/4,40,400,32).setStrokeStyle(1,16777215),this.hpBarP2=this.add.rectangle(this.width-this.width/4-200,40,400,32,255).setOrigin(0,.5),this.p2MaxHP=this.game_scene.fighter_P2.gameHP,this.txt_hpP1=this.add.text(this.width/10,70,"P1 HP: ",{fontFamily:"Arial Black",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5),this.txt_hpP2=this.add.text(this.width-this.width/10,70,"P2 HP: ",{fontFamily:"Arial Black",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5)}updateHP(){this.p1HP=this.game_scene.fighter_P1.gameHP,this.p2HP=this.game_scene.fighter_P2.gameHP,this.txt_hpP1.text="p1HP: "+this.p1HP,this.txt_hpP2.text="p2HP: "+this.p2HP,this.hpBarP1.width=this.p1HP/this.p1MaxHP*400,this.hpBarP2.width=this.p2HP/this.p2MaxHP*400}updateStartTimer(){this.start_countdown--,this.txt_start_time.text=`${this.start_countdown}`,0===this.start_countdown&&(this.txt_start_time.text="GO!!!",this.time.addEvent({delay:1e3,callback:()=>{this.countdownTimer.remove(!1),this.game_scene.isStarting=!1,this.txt_start_time.setVisible(!1),this.txt_time.setVisible(!0),this.countdownTimer=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0})}}))}updateTimer(){this.countdown--,this.txt_time.text=`${this.countdown}`,0===this.countdown&&(this.countdownTimer.remove(!1),this.checkTimeOut())}checkTimeOut(){this.p1HP==this.p2HP?this.goNextScene(""):this.p1HP>this.p2HP?this.goNextScene("p1"):this.p1HP<this.p2HP&&this.goNextScene("p2")}checkDeath(){this.p1HP<=0&&this.p2HP<=0?this.goNextScene(""):this.p2HP<=0?this.goNextScene("p1"):this.p1HP<=0&&this.goNextScene("p2")}goNextScene(t){this.time.addEvent({delay:1800,callback:()=>{this.scene.stop("LocalPlay"),this.scene.stop(),this.scene.start("LocalOver",{winner:t}),this.scene.bringToTop("LocalOver")}})}update(){this.updateHP(),this.checkDeath()}}class S extends Phaser.Scene{constructor(){super("LocalSelect"),e(this,"p1_fighter",""),e(this,"p2_fighter",""),e(this,"isP1Selecting"),e(this,"start_game_txt"),e(this,"txt_p1_fighter"),e(this,"txt_p2_fighter")}create(){this.add.image(this.cameras.main.width/2,320,"background2").setScale(2),this.add.text(this.cameras.main.width/2,70,"Select FIGHTER",{fontFamily:"Arial Black",fontSize:60,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5),this.add.text(this.cameras.main.width/12,40,"<Menu",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive().on("pointerdown",(()=>{this.scene.stop("LocalSelect"),this.scene.start("MainMenu")})),this.playerFighterSelector(),this.createMenuFighterAnimations(),this.characterEntriesBuilder(this.cameras.main.width/4,200,"Core","core",0),this.add.sprite(this.cameras.main.width/4,350,"fighterCore").setOrigin(.5).setScale(4).play("idle"),this.characterEntriesBuilder(this.cameras.main.width/2,200,"Mantle","mantle",1),this.add.sprite(this.cameras.main.width/2,350,"fighterMantle").setOrigin(.5).setScale(4).play("m-idle"),this.characterEntriesBuilder(this.cameras.main.width/4*3,200,"Crust","crust",2),this.add.sprite(this.cameras.main.width/4*3,350,"fighterCrust").setOrigin(.5).setScale(4).play("c-idle"),this.add.text(this.cameras.main.width/8,550,"Game Mode: \n Local Play",{fontFamily:"Arial Black",fontSize:30,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5),this.start_game_txt=this.add.text(this.cameras.main.width-this.cameras.main.width/8,600,"Start game",{fontFamily:"Arial Black",fontSize:30,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5).setInteractive().setVisible(!1),this.start_game_txt.on("pointerdown",(()=>{this.scene.start("LocalPlay",{p1Fighter:this.p1_fighter,p2Fighter:this.p2_fighter}),this.scene.start("LocalHUD"),this.scene.bringToTop("LocalHUD")})),r.emit("current-scene-ready",this)}playerFighterSelector(){const t=this.add.text(this.cameras.main.width/2.5,540,"P1 Fighter",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive();t.on("pointerdown",(()=>{this.isP1Selecting=!0,t.setFontSize(35),e.setFontSize(25)}));const e=this.add.text(this.cameras.main.width-this.cameras.main.width/2.5,540,"P2 Fighter",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive();e.on("pointerdown",(()=>{this.isP1Selecting=!1,t.setFontSize(25),e.setFontSize(35)})),this.txt_p1_fighter=this.add.text(this.cameras.main.width/2.5,580,"",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive(),this.txt_p2_fighter=this.add.text(this.cameras.main.width-this.cameras.main.width/2.5,580,"",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive()}characterEntriesBuilder(t,e,i,s,a){const h=this.make.text({add:!0,x:t,y:e,text:i,style:{fontSize:38,fontFamily:"Arial Black",color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}}).setDepth(100).setOrigin(.5).setInteractive();this.textures.addCanvas(`txt_select${a}`,h.canvas);const r=this.add.particles(t,e,`txt_select${a}`,{alpha:{start:1,end:0},speed:{min:60,max:260},lifespan:{min:1,max:200}}).setVisible(!1);h.on("pointerover",(()=>{r.setVisible(!0)})),h.on("pointerout",(()=>{r.setVisible(!1)})),h.on("pointerdown",(()=>{!0===this.isP1Selecting&&(this.p1_fighter=s),!1===this.isP1Selecting&&(this.p2_fighter=s)}))}createMenuFighterAnimations(){this.anims.create({key:"idle",frames:this.anims.generateFrameNames("fighterCore",{prefix:"idle-",end:10}),frameRate:20,repeat:-1}),this.anims.create({key:"m-idle",frames:this.anims.generateFrameNames("fighterMantle",{prefix:"idle-",end:8}),frameRate:20,repeat:-1}),this.anims.create({key:"c-idle",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"idle-",end:7}),frameRate:16,repeat:-1})}update(){""!=this.p1_fighter&&""!=this.p2_fighter&&this.start_game_txt.setVisible(!0),this.txt_p1_fighter.setText(this.p1_fighter),this.txt_p2_fighter.setText(this.p2_fighter)}}class b extends Phaser.Scene{constructor(){super("PracticePlay"),e(this,"width"),e(this,"height"),e(this,"map_container"),e(this,"map_packer"),e(this,"map_layer"),e(this,"fighter_P1")}init(){this.width=this.cameras.main.width,this.height=this.cameras.main.height}create(t){this.add.image(this.cameras.main.width/2,320,"background3").setScale(2),this.setupMapTiles(),this.cameras.main.setBounds(0,0,this.map_container.widthInPixels,this.map_container.heightInPixels),this.spawnFighters(t),this.setupPhysics(),r.emit("current-scene-ready",this)}setupMapTiles(){this.map_container=this.make.tilemap({key:"mapTest",tileWidth:16,tileHeight:16}),this.map_packer=this.map_container.addTilesetImage("TerrainTest"),null!=this.map_packer&&(this.map_layer=this.map_container.createLayer("Platforms",this.map_packer))}spawnFighters(t){this.fighter_P1=P.createFighter(t.p1Fighter,{current_scene:this,x:this.width/2,y:this.height/2,texture:"fighterTest"},m.createUserControls("p1"))}setupPhysics(){null!=this.map_layer&&(this.map_layer.setCollisionByExclusion([-1]),this.physics.world.bounds.setTo(0,0,this.map_container.widthInPixels,this.map_container.heightInPixels),this.physics.add.collider(this.fighter_P1,this.map_layer))}update(){this.fighter_P1.update()}}class A extends Phaser.Scene{constructor(){super("NetOver")}create(){}update(){}}class F extends Phaser.Scene{constructor(){super("LocalOver"),e(this,"width"),e(this,"height")}init(){this.width=this.cameras.main.width,this.height=this.cameras.main.height}create(t){this.add.image(this.width/2,320,"background3").setScale(2),this.flexibleEntriesBuilder(this.width/2,260,25,"<Menu","MainMenu",0),this.flexibleEntriesBuilder(this.width/2,this.height/2,50,"Rematch","LocalSelect",1),"p1"==t.winner?this.flexibleWinnerAnimation("Player 1 WINS!!!!!",0):"p2"==t.winner?this.flexibleWinnerAnimation("Player 2 WINS!!!!!",0):this.flexibleWinnerAnimation("DRAWWW!!!!!",0),r.emit("current-scene-ready",this)}flexibleEntriesBuilder(t,e,i,s,a,h){const r=this.make.text({add:!0,x:t,y:e,text:s,style:{fontSize:i,fontFamily:"Arial Black",color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}}).setDepth(100).setOrigin(.5).setInteractive();this.textures.addCanvas(`txt_localOver${h}`,r.canvas);const n=this.add.particles(t,e,`txt_localOver${h}`,{alpha:{start:1,end:0},speed:{min:60,max:260},lifespan:{min:1,max:200}}).setVisible(!1);r.on("pointerover",(()=>{n.setVisible(!0)})),r.on("pointerout",(()=>{n.setVisible(!1)})),r.on("pointerdown",(()=>{this.scene.stop("LocalOver"),this.scene.start(a),this.scene.bringToTop(a)}))}flexibleWinnerAnimation(t,e){const i=this.make.text({add:!0,x:this.width/2,y:80,text:t,style:{fontSize:60,fontFamily:"Arial Black",color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}}).setDepth(100).setOrigin(.5);this.textures.addCanvas(`txt_winner${e}`,i.canvas),this.add.particles(this.cameras.main.width/2,80,`txt_winner${e}`,{alpha:{start:1,end:0},speed:{min:60,max:260},lifespan:{min:1,max:200}})}}class T extends Phaser.Scene{constructor(){super("PracticeSelect"),e(this,"p1_fighter",""),e(this,"start_game_txt"),e(this,"txt_p1_fighter")}create(){this.add.image(this.cameras.main.width/2,320,"background2").setScale(2),this.add.text(this.cameras.main.width/2,70,"Select FIGHTER",{fontFamily:"Arial Black",fontSize:60,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5),this.add.text(this.cameras.main.width/12,40,"<Menu",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive().on("pointerdown",(()=>{this.scene.stop("PracticeSelect"),this.scene.start("MainMenu")})),this.add.text(this.cameras.main.width/2,540,"Fighter",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5),this.txt_p1_fighter=this.add.text(this.cameras.main.width/2,580,"",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive(),this.createMenuFighterAnimations(),this.characterEntriesBuilder(this.cameras.main.width/4,200,"Core","core",0),this.add.sprite(this.cameras.main.width/4,350,"fighterCore").setOrigin(.5).setScale(4).play("idle"),this.characterEntriesBuilder(this.cameras.main.width/2,200,"Mantle","mantle",1),this.add.sprite(this.cameras.main.width/2,350,"fighterMantle").setOrigin(.5).setScale(4).play("m-idle"),this.characterEntriesBuilder(this.cameras.main.width/4*3,200,"Crust","crust",2),this.add.sprite(this.cameras.main.width/4*3,350,"fighterCrust").setOrigin(.5).setScale(4).play("c-idle"),this.add.text(this.cameras.main.width/8,550,"Game Mode: \n Practice Play",{fontFamily:"Arial Black",fontSize:30,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5),this.start_game_txt=this.add.text(this.cameras.main.width-this.cameras.main.width/8,600,"Start game",{fontFamily:"Arial Black",fontSize:30,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setDepth(100).setOrigin(.5).setInteractive().setVisible(!1),this.start_game_txt.on("pointerdown",(()=>{this.scene.start("PracticePlay",{p1Fighter:this.p1_fighter}),this.scene.start("PracticeHUD"),this.scene.bringToTop("PracticeHUD")})),r.emit("current-scene-ready",this)}characterEntriesBuilder(t,e,i,s,a){const h=this.make.text({add:!0,x:t,y:e,text:i,style:{fontSize:38,fontFamily:"Arial Black",color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}}).setDepth(100).setOrigin(.5).setInteractive();this.textures.addCanvas(`txt_select${a}`,h.canvas);const r=this.add.particles(t,e,`txt_select${a}`,{alpha:{start:1,end:0},speed:{min:60,max:260},lifespan:{min:1,max:200}}).setVisible(!1);h.on("pointerover",(()=>{r.setVisible(!0)})),h.on("pointerout",(()=>{r.setVisible(!1)})),h.on("pointerdown",(()=>{this.p1_fighter=s}))}createMenuFighterAnimations(){this.anims.create({key:"idle",frames:this.anims.generateFrameNames("fighterCore",{prefix:"idle-",end:10}),frameRate:20,repeat:-1}),this.anims.create({key:"m-idle",frames:this.anims.generateFrameNames("fighterMantle",{prefix:"idle-",end:8}),frameRate:20,repeat:-1}),this.anims.create({key:"c-idle",frames:this.anims.generateFrameNames("fighterCrust",{prefix:"idle-",end:7}),frameRate:16,repeat:-1})}update(){""!=this.p1_fighter&&this.start_game_txt.setVisible(!0),this.txt_p1_fighter.setText(this.p1_fighter)}}class H extends Phaser.Scene{constructor(){super("PracticeHUD"),e(this,"game_scene"),e(this,"width"),e(this,"height")}init(){this.width=this.cameras.main.width,this.height=this.cameras.main.height,this.game_scene=this.scene.get("PracticePlay")}create(){this.add.text(this.width/12,40,"<Menu",{fontFamily:"Arial Black",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"left"}).setDepth(100).setOrigin(.5).setInteractive().on("pointerdown",(()=>{this.scene.stop("PracticePlay"),this.scene.stop("PracticeHUD"),this.scene.start("MainMenu"),this.scene.bringToTop("MainMenu")}))}}const v={type:Phaser.AUTO,width:960,height:640,parent:"game-container",backgroundColor:"#125555",pixelArt:!0,scene:[h,a,n,c,l,o,A,_,w,S,F,b,H,T],physics:{default:"arcade",arcade:{gravity:{y:600,x:0},debug:!1}}};new i.Game(v);
